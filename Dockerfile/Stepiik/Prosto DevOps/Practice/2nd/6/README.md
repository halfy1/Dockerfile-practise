Java + ONBUILD для базового шаблона Spring Boot
В этом задании вы создаёте Dockerfile, который выступает как базовый образ для Java-приложений на Spring Boot. Суть в том, что вы задаёте несколько ONBUILD-инструкций, а при использовании этого образа в другом дочернем Dockerfile они автоматически срабатывают. Это полезно, если вы хотите упростить сборку Spring Boot проектов для вашей команды.

Зачем это нужно?
ONBUILD — инструкции, которые не выполняются при создании родительского образа, но сработают в том Dockerfile, который напишет FROM my-java-base:latest.
LABEL — метаданные о вашем базовом образе (контакт, версия и т. д.).
ENV — можно задать дефолтный порт или переменные окружения, которые ваши Spring Boot-приложения будут использовать.
Техническое задание (ТЗ)
Базовый образ — openjdk:17-jdk (или eclipse-temurin:17, если предпочитаете «официальный» Temurin).
LABEL: Добавьте метаданные, например, maintainer, version, description.
ENV: Задайте SPRING_PROFILES_ACTIVE=default или SERVER_PORT=8080, чтобы указать типичный профиль и порт для Spring Boot.
Добавьте строку, которая в дочернем Dockerfile скопирует JAR-файл  — target/*.jar /app/app.jar.
Объявите порт 8080, который будут слушать все дочерние образы.
CMD: Запуск java -jar /app/app.jar, но учтите, что сама JAR-ка появится только в дочернем образе.
Итог: При сборке этого Dockerfile ONBUILD-инструкции не выполняются. Но когда кто-то напишет:
FROM my-java-base:latest
COPY . .
RUN mvn clean package
CMD ["java", "-jar", "/app/app.jar"]
Тогда сработают ONBUILD COPY, ONBUILD EXPOSE и т. д., заложенные в базовом образе.